<!DOCTYPE html>
<html>
<head>
    <title>Expense Tracker</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <h1>üí∞ Expense Tracker</h1>

    <div class="container">
        <h3>Your Expenses:</h3>
        {% if expenses %}
        <table>
            <tr>
                <th>Category</th>
                <th>Amount</th>
                <th>Action</th>
                <th>DATE</th>
            </tr>
            {% for exp in expenses %}
            <tr>
                <td>{{ exp.category }}</td>
                <td>‚Çπ{{ "%.2f"|format(exp.amount) }}</td>
                <td><a href="/delete/{{ exp.id }}" onclick="return confirmDelete();">‚ùå Delete</a></td>
                <td>{{ exp.date.strftime("%d-%m-%Y %H:%M") }}</td>
            </tr>
            {% endfor %}
        </table>
        <div class="total-box">
            Total: ‚Çπ{{ "%.2f"|format(total) }}
        </div>
        {% if show_more %}
<div style="margin-top: 20px;">
    <a href="{{ url_for('all_expenses') }}">
        <button>See All Expenses</button>
    </a>
</div>
{% endif %}

        {% else %}
        <p>No expenses yet.</p>
        {% endif %}

        <h3>Add Expense</h3>
        <form method="POST" action="/add">
            <select name="category" required>
        <option value="" disabled selected>Select Category</option>
        <option value="Food">Food</option>
        <option value="Travel">Travel</option>
        <option value="Shopping">Shopping</option>
        <option value="Bills">Bills</option>
        <option value="Others">Others</option>
    </select>

    <input type="number" step="0.01" name="amount" placeholder="Amount" required>
    <button type="submit">Add</button>
        </form>
    </div>

    <script>
        function confirmDelete(){
            return confirm("ARE YOU SURE YOU WANT TO DELETE THIS??");
        }
    </script>

</body>
</html>
